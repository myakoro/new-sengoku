# Version 0.15 要件定義書

## 1. 概要

### 1-1. バージョン目標

```
目標：徒士/馬上衆フェーズの「遊べる」体験の確立
プレイ時間：3〜4時間
前提：Version 0.1 完了後
```

### 1-2. 主要追加機能

| 機能 | 優先度 | 概要 |
|------|--------|------|
| 下知・任務のバリエーション拡充 | 高 | 評定までの下知（指定任務）や盗賊討伐に条件差分/報酬差分を追加し、同じ行動の繰り返し感を減らす |
| UI/ログ/テンポの改善 | 高 | 迷いにくさ、押しやすさ、状況把握のしやすさを改善する |
| 没入要素の最小導入 | 中 | BGM/簡易演出などを追加し、「戦国っぽさ」を最低限出す |

---

## 2. 対象範囲

### 2-1. 役職範囲

```
徒士 → 馬上衆（v0.1範囲の磨き込み）
※小頭ループの骨格は v0.25 で導入する
```

### 2-2. v0.15で「成立させる体験」

```
- プレイヤーが毎ターン/毎月に複数の意味ある選択肢を持ち、短時間で違いを実感できる
- 状況把握が楽で、次に何をすればいいか迷いにくい
- 最低限の「人間味/戦国味」（音・演出）が入っている
```

---

## 3. 下知・任務のバリエーション拡充

### 3-1. 基本方針

```
- v0.1の基礎ループ（公務選択・盗賊カード・評定）を壊さずに、下知（評定までの指定任務）の差分を増やす
- 差分は「条件」「リスク」「報酬」「所要ターン」のいずれかで表現する
```

### 3-2. バリエーションの最低要件

```
- 下知（評定までの指定任務）の種類を最低1種追加する、または同等の差分（条件/報酬/所要ターン）を追加する
- 盗賊討伐は同ランクでも、条件差分または報酬差分のどちらかを持たせる
- 任務は「やる/やらない」ではなく「どれをやるか」で迷う状態を作る
```

---

## 4. UI/ログ/テンポ

### 4-1. 改善対象（要件）

```
- 現在の状況（目的/残ターン/必要行動/資源）が見て分かる
- 重要な数値や条件が、ログ/画面に一貫して表示される
- 同じ操作の繰り返し回数を減らす（ボタン導線・ショートカット等）
```

### 4-2. 非機能要件（体感）

```
- クリック数/画面遷移を増やさずに情報量を増やす
- 誤操作しにくい（押し間違えで破滅しない）
```

---

## 5. 没入要素（最小導入）

### 5-1. v0.15でやること

```
- BGMを最低1種類用意し、ゲーム内で再生できる（追加で2〜3種類用意してよい。ON/OFF・音量は任意）
- 画面/ログの簡易演出（強い任務/節目の通知など）を入れてよい
```

### 5-2. v0.15で「まだやらない」こと（非スコープ）

```
- キャラクター画像/立ち絵の本格導入
- シナリオイベントの大量追加
- 小頭ループ（評定→割り振り→結果）や委任の導入
- 家臣団（名前付き）の本格導入
- 知行地/軍役/農兵/戦闘詳細など v0.5相当の柱
```

---

## 6. 影響範囲

### 6-1. データ/セーブ互換

```
- 既存セーブが読み込めることを優先する
- データ追加が必要な場合は「既定値で補完」できる形にする
```

### 6-2. バランス/難易度

```
- v0.15は「選択肢の差」と「分かりやすさ」の改善が主目的であり、難易度の大改修は行わない
- 数値調整は出口条件（体験）の達成に必要な範囲に限定する
```

---

## 7. 受け入れ条件（出口条件）

1. 任務（または盗賊討伐）の選択肢が増え、同じ行動の繰り返し感が緩和される
2. 任務の条件/報酬/リスクの違いが画面またはログで把握できる
3. 迷いどころ（次の一手）がUI上で見える（残ターン/目的/必要行動が分かる）
4. BGM等の没入要素が最低限入り、「無音で味気ない」状態を脱する
5. 30分のプレイで「選択肢の差」を体験できる

---

## 8. 実装優先順位

### Phase 1（必須）

1. 任務バリエーション拡充（最低要件を満たす）
2. UI/ログの改善（状況把握の改善）

### Phase 2（重要）

3. テンポ改善（操作回数/導線）
4. 没入要素（BGM/簡易演出）

---

## 9. テスト観点（確認項目）

1. 任務/盗賊討伐の一覧を見て、条件差分または報酬差分が識別できる
2. 任務開始時/実行時/結果時のログに、条件・報酬・リスクの要点が残る
3. 「残ターン/目的/必要行動/資源」が、画面上またはログで追える
4. BGMが再生され、必要なら停止できる（UI有無は実装に合わせる）
5. 30分プレイの中で、異なる選択をした結果が分かる（報酬・損耗・進行の差）
6. 既存セーブデータが読み込め、追加項目がある場合も破綻しない

---

## 10. 次のステップ

1. **Version 0.15 詳細設計書の作成（差分中心でよい）**
2. **画面設計（変更箇所のみ）**
3. **テストプレイで出口条件/テスト観点の確認**

---

**Version 0.15 要件定義書（たたき台）**
